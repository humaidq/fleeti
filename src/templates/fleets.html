{{ template "head" . }}

<div class="page-header">
  <h2>Fleets</h2>
  <div class="page-header-actions">
    <a href="/" class="btn">Dashboard</a>
  </div>
</div>

<section class="section-card">
  <h3>Create Fleet</h3>
  <details class="add-item-details">
    <summary class="add-item-summary">+ Create Fleet</summary>
    <form method="post" action="/fleets" class="add-item-form">
      <input type="hidden" name="_csrf" value="{{ .csrf_token }}" />
      <div class="add-item-field">
        <label for="fleet-name">Name</label>
        <input id="fleet-name" name="name" class="form-item" required />
      </div>
      <div class="add-item-field">
        <label for="fleet-description">Description</label>
        <textarea id="fleet-description" name="description" class="form-item" rows="3"></textarea>
      </div>
      <button type="submit" class="btn">Create Fleet</button>
    </form>
  </details>
</section>

<section class="section-card">
  <h3>Fleet Catalog</h3>
  {{ if .Fleets }}
  <div class="list-card-list">
    {{ range .Fleets }}
    <div class="list-card list-card-clickable fleet-list-card">
      <a href="/fleets/{{ .ID }}" class="list-card-link list-card-entry-link">
        <div class="list-card-entry">
          <span class="list-card-leading">
            <span class="list-card-icon" aria-hidden="true"><i class="fa-solid fa-server"></i></span>
          </span>
          <div class="list-card-entry-body">
            <div class="list-card-title">{{ .Name }}</div>
            <div class="list-card-meta fleet-list-meta">
              <span class="muted-text">Created (UTC): {{ .CreatedAt }}</span>
            </div>
            {{ if .Description }}
            <p class="muted-text fleet-list-description">{{ .Description }}</p>
            {{ end }}
          </div>
        </div>
      </a>
    </div>
    {{ end }}
  </div>
  {{ else }}
  <p class="muted-text">No fleets yet.</p>
  {{ end }}
</section>

{{ template "foot" . }}
